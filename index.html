<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Compute Evolution</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f6fa;
            color: #2d3436;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            text-align: center;
            color: #2d3436;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            text-align: center;
            color: #636e72;
            margin-bottom: 2rem;
        }

        .controls {
            text-align: center;
            margin: 1rem 0;
        }

        button {
            background-color: #0984e3;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0866b0;
        }

        .tooltip {
            position: absolute;
            padding: 8px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 5px;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI Compute Evolution</h1>
        <div class="subtitle">Computing power used to train AI models over time</div>
        <div id="visualization"></div>
        <div class="controls">
            <button id="playButton">Play Animation</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const data = [
                { year: 2012, model: "AlexNet", compute: 0.0000012, color: "#74b9ff" },
                { year: 2015, model: "ResNet", compute: 0.000036, color: "#0984e3" },
                { year: 2017, model: "Transformer", compute: 0.000300, color: "#6c5ce7" },
                { year: 2018, model: "BERT", compute: 0.000512, color: "#a29bfe" },
                { year: 2019, model: "GPT-2", compute: 0.042000, color: "#fd79a8" },
                { year: 2020, model: "GPT-3", compute: 3.640000, color: "#e84393" },
                { year: 2022, model: "PaLM", compute: 2.500000, color: "#e17055" },
                { year: 2023, model: "GPT-4", compute: 8.000000, color: "#d63031" }
            ];

            function createVisualization() {
                const width = Math.min(1000, window.innerWidth - 40);
                const height = 600;
                const margin = { top: 50, right: 50, bottom: 50, left: 80 };

                // Clear any existing SVG
                d3.select("#visualization").html("");

                const svg = d3.select("#visualization")
                    .append("svg")
                    .attr("width", width)
                    .attr("height", height);

                const x = d3.scaleLinear()
                    .domain([2012, 2023])
                    .range([margin.left, width - margin.right]);

                const y = d3.scaleLog()
                    .domain([1e-7, 10])
                    .range([height - margin.bottom, margin.top]);

                // Add X axis
                svg.append("g")
                    .attr("transform", `translate(0,${height - margin.bottom})`)
                    .call(d3.axisBottom(x).tickFormat(d3.format("d")));

                // Add Y axis
                svg.append("g")
                    .attr("transform", `translate(${margin.left},0)`)
                    .call(d3.axisLeft(y).tickFormat(d3.format(".0e")));

                // Add tooltip
                const tooltip = d3.select("body").append("div")
                    .attr("class", "tooltip")
                    .style("opacity", 0);

                // Add bubbles
                const bubbles = svg.selectAll("circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", d => x(d.year))
                    .attr("cy", d => y(d.compute))
                    .attr("r", 0)
                    .attr("fill", d => d.color)
                    .attr("opacity", 0.7);

                // Add hover effects
                bubbles.on("mouseover", function(event, d) {
                    d3.select(this)
                        .transition()
                        .duration(200)
                        .attr("opacity", 1);

                    tooltip.transition()
                        .duration(200)
                        .style("opacity", .9);
                    
                    tooltip.html(`${d.model}<br/>Compute: ${d.compute} petaflop/s-days`)
                        .style("left", (event.pageX + 10) + "px")
                        .style("top", (event.pageY - 28) + "px");
                })
                .on("mouseout", function() {
                    d3.select(this)
                        .transition()
                        .duration(200)
                        .attr("opacity", 0.7);

                    tooltip.transition()
                        .duration(500)
                        .style("opacity", 0);
                });

                // Animation function
                function animateBubbles() {
                    bubbles.transition()
                        .duration(1000)
                        .attr("r", d => Math.sqrt(d.compute) * 20);
                }

                // Add click handler to button
                document.getElementById("playButton").onclick = animateBubbles;

                // Initial animation
                setTimeout(animateBubbles, 500);
            }

            // Create initial visualization
            createVisualization();

            // Handle window resize
            window.addEventListener('resize', createVisualization);
        });
    </script>
</body>
</html>